<?xml version="1.0" encoding="ISO-8859-1" ?>
<binding>
	
	<!--***********General******************-->
	<bind action="begin" type="download">
	 	<url value="{livesearch.download}"/>
	 	<query name="task" valueRef="@task"/>
	 	<query name="user" valueRef="@user"/>
	 	<compression type="zip" />
		<download port="spec" type="folder">
			<query name="resource" value="spec"/>
		</download>
		<download port="flowParams" type="file">
			<query name="resource" value="params"/>
		</download>
		<download port="groupmapping" type="file">
			<query name="resource" value="groupmapping"/>
		</download>
                <download port="attributemapping" type="file">
                        <query name="resource" value="attributemapping"/>
                </download>
		<download port="lib" type="folder">
		   <query name="resource" value="lib"/>
		</download>
		<download port="spectwo" type="folder">
                        <query name="resource" value="spectwo"/>
                </download>
                <download port="specthree" type="folder">
                        <query name="resource" value="specthree"/>
                </download>
                <download port="specfour" type="folder">
                        <query name="resource" value="specfour"/>
                </download>
                <download port="specfive" type="folder">
                        <query name="resource" value="specfive"/>
                </download>
                <download port="specsix" type="folder">
                        <query name="resource" value="specsix"/>
                </download>
                <download port="spectrallibrary" type="folder">
                        <query name="resource" value="spectrallibrary"/>
                </download>
		<download port="fasta" type="folder">
			<query name="resource" value="fasta"/>
		</download>
		<download port="params" type="file">
			<query name="resource" value="params"/>
		</download>

		<downloadParams>
			<query name="resource" value="params"/>
		</downloadParams>
	</bind>


	<bind action="end" type="upload">
	 	<url value="{livesearch.upload}"/>
	 	<query name="task" valueRef="@task"/>
	 	<contentQuery name="content"/>
	 	<compression type="zip"/>

		<upload port="mergedLib" type="file">
                        <query name="resource" value="specLib"/>
                </upload>
		<upload port="clusterinfosummarygroup_attributes" type="file">
                        <query name="resource" value="clusterinfosummarygroup_attributes"/>
                </upload>
                <upload port="networkedges_selfloop" type="file">
                        <query name="resource" value="networkedges_selfloop"/>
                </upload>
                <upload port="networkedges_display_pairs" type="file">
                        <query name="resource" value="networkedges_display_pairs"/>
                </upload>
                <upload port="allclustered_spectra_info_withpath" type="file">
                        <query name="resource" value="allclustered_spectra_info_withpath"/>
                </upload>
                <upload port="raw_spectra" type="file">
                        <query name="resource" value="rawSpectra_withSpecIndex"/>
                </upload>
                <upload port="networkcomponents" type="file">
                        <query name="resource" value="networkcomponents"/>
                </upload>
                <upload port="networkcomponents_withpeptide" type="file">
                        <query name="resource" value="networkcomponents_withpeptide"/>
                </upload>
                <upload port="spectra" type="folder">
                        <query name="resource" value="spectra"/>
                </upload>

		<upload port="msplitResult" type="file">
			<query name="resource" value="msplitResult"/>
		</upload>
		<upload port="msgfplusResult" type="file">
			<query name="resource" value="msgfplusResult"/>
		</upload>
		<upload port="modaResult" type="file">
			<query name="resource" value="modaResult"/>
		</upload>
		<upload port="ptm" type="file">
			<query name="resource" value="ptmResult"/>
		</upload>
		<upload port="categories" type="file">
			<query name="resource" value="categorization"/>
		</upload>
		<upload port="spectrum_counts_regions" type="file">
                        <query name="resource" value="spectrumCounts_regions"/>
                </upload>
		<upload port="spectrum_counts_merged_regions" type="file">
                        <query name="resource" value="spectrumCounts_mergedRegions"/>
                </upload>
        <upload port="spectrum_counts_var_fdr_proteins" type="file">
                <query name="resource" value="spectrumCounts_varFdr_proteins"/>
        </upload>
		<upload port="spectrum_counts_sep_mixtures" type="file">
                        <query name="resource" value="spectrumCounts_specFdr_sepMixtures"/>
                </upload>
                <upload port="summary_report" type="file">
                        <query name="resource" value="summaryReport_new"/>
                </upload>
                <upload port="all_clusters_output" type="file">
                        <query name="resource" value="allClustersOutput"/>
                </upload>
                <upload port="raw_spectra_id_only" type="file">
                        <query name="resource" value="rawSpectraIdOnly"/>
                </upload>
	        <upload port="outQcFalseWithOffsets" type="file">
                        <query name="resource" value="networkqc_falsepositive_with_offsets"/>
                </upload>
                <upload port="outPairModTable" type="file">
                        <query name="resource" value="pairModificationTable"/>
                </upload>

                
		<upload port="clusterinfosummarygroup_attributes_withIDs_withcomponentID" type="file">
                        <query name="resource" value="clusterinfosummarygroup_attributes_withIDs_withcomponentID"/>
                </upload>
		
		<!-- mzTab integration -->
		<upload port="mzTab" type="file">
			<query name="resource" value="mzTab"/>
		</upload>
		<upload port="mzTab_zip" type="file">
			<query name="resource" value="mzTab_zip"/>
		</upload>
		<upload port="statistics" type="file">
			<query name="resource" value="statistics"/>
		</upload>
           	<!-- bsaap raven-->
            <upload port="combinedPsmVariantFdrWithRegs" type="folder">
                <query name="resource" value="combinedPsmVariantFdrWithRegs"/>
            </upload>

            <upload port="ptmTable" type="file">
                <query name="resource" value="ptmTable"/>
            </upload>
            <upload port="networkedges_selfloop_variant" type="file">
                <query name="resource" value="networkedges_selfloop_variant"/>
            </upload>
            <upload port="clusterinfosummarygroup_attributes_withIDs_withcomponentID_variant" type="file">
                <query name="resource" value="clusterinfosummarygroup_attributes_withIDs_withcomponentID_variant"/>
            </upload>
            <upload port="peptide_ids_variant" type="file">
                <query name="resource" value="peptide_ids_variant"/>
            </upload>
            <upload port="variant_networks" type="file">
                <query name="resource" value="variant_networks"/>
            </upload>
        </bind>

	<bind action="make_ptm_table" tool="makePtmTable">		
		<inputAsRequirement port="outComputeMergedRegionsCombined" requirement="outComputeMergedRegionsCombined"/>		
		<productionToOutput port="outPtmTable" production="outPtmTable"/>		
		<productionToOutput port="outNewPsms" production="outNewPsms"/>		
	</bind>	

        <bind action="create_pklbin_filelist" tool="createPklbinFilelist">
                <inputAsRequirement  port="inputspectra_pklbin"          requirement="inputspectra_pklbin" />
                <inputAsRequirement  port="params"          requirement="params" />
                <inputAsRequirement  port="inputspectra_preMassCorrection"          requirement="inputspectra_preMassCorrection" />
                <inputAsRequirement  port="inputspectra"          requirement="inputspectra" />
                <productionToOutput  port="out"        production="out" />
        </bind>

        <bind action="kl_filter_p" tool="parallelize_20">
                <inputAsRequirement  port="spectrum_converted"          requirement="input_folder" />
                <productionToOutput  port="spectrum_converted_p"        production="output_lists" />
        </bind>

	<bind action="kl_filter" tool="KLFilter">		
		<inputAsRequirement port="spectra" requirement="spectra"/>		
		<inputAsRequirement port="inputSpec" requirement="inputSpec"/>		
		<inputAsRequirement port="params" requirement="params"/>		
		<productionToOutput port="massCorrectedInputSpec" production="massCorrectedInputSpec"/>		
		<productionToOutput port="massCorrectedInputSpec_MS3" production="massCorrectedInputSpec_MS3"/>		
		<productionToOutput port="outKLTable" production="outKLTable"/>		
		<productionToOutput port="inputspectra_pklbin" production="inputspectra_pklbin"/>		
	</bind>		
        <bind action="merge_KLTables" tool="mergeText">
                <inputAsRequirement port="KLTable"       requirement="input"/>
                <productionToOutput port="KLTable_merged" production="output"/>
        </bind>
	<bind action="modify_workflow_params" tool="modifyWorkflowParams">		
		<inputAsRequirement port="workflowParams" requirement="workflowParams"/>		
		<inputAsRequirement port="inputspectra" requirement="inputspectra"/>		
		<inputAsRequirement port="inputspectra_postklfilter" requirement="inputspectra_postklfilter"/>		
		<productionToOutput port="out" production="out"/>		
	</bind>
	
	<bind action="get_unidentified_msplit" tool="getUnidentified">
		<inputAsRequirement port="spec" requirement="specs"/>
		<inputAsRequirement port="searchResult" requirement="searchResult"/>
		<productionToOutput port="spec" production="output"/>
	</bind>

	<bind action="get_unidentified_msgfplus" tool="getUnidentified">
		<inputAsRequirement port="spec" requirement="specs"/>
		<inputAsRequirement port="searchResult" requirement="searchResult"/>
		<productionToOutput port="spec" production="output"/>
	</bind>

	<bind action="get_unidentified_moda" tool="getUnidentified">
		<inputAsRequirement port="spec" requirement="specs"/>
		<inputAsRequirement port="searchResult" requirement="searchResult"/>
		<productionToOutput port="numIdent" production="output"/>
	</bind>
	
    <bind action="categorize_spectra_msgf_msplit" tool="categorizeSpectraMsgfMsplit">
		<inputAsRequirement port="msplitSearchResult" requirement="msplitSearchResult"/>
		<inputAsRequirement port="msgfplusSearchResult" requirement="msgfdbSearchResult"/>
		<inputAsRequirement port="modaSearchResult" requirement="modaSearchResult"/>
		<productionToOutput port="categories" production="output"/>
	</bind>
    <bind action="categorize_spectra_moda_msplit" tool="categorizeSpectraModaMsplit">
        <inputAsRequirement port="msplitSearchResult" requirement="msplitSearchResult"/>
        <inputAsRequirement port="msgfplusSearchResult" requirement="msgfdbSearchResult"/>
        <inputAsRequirement port="modaSearchResult" requirement="modaSearchResult"/>
        <productionToOutput port="categories" production="output"/>
    </bind>

    <bind action="categorize_spectra_moda_msgf" tool="categorizeSpectraModaMsgf">
        <inputAsRequirement port="msplitSearchResult" requirement="msplitSearchResult"/>
        <inputAsRequirement port="msgfplusSearchResult" requirement="msgfdbSearchResult"/>
        <inputAsRequirement port="modaSearchResult" requirement="modaSearchResult"/>
        <productionToOutput port="categories" production="output"/>
    </bind>

    <bind action="cat_peptide_pair_files" tool="catPeptidePairFiles">
                <inputAsRequirement port="pepPairsMsgfMsplit" requirement="pepPairsMsgfMsplit"/>
                <inputAsRequirement port="pepPairsModaMsplit" requirement="pepPairsModaMsplit"/>
                <inputAsRequirement port="pepPairsModaMsgf" requirement="pepPairsModaMsgf"/>
                <productionToOutput port="pepPairsCombined" production="pepPairsCombined"/>
        </bind>
	
	<bind action="extract_mgf" tool="extractMgf">
		<inputAsRequirement port="in_spec" requirement="spectra"/>
		<productionToOutput port="out_spec" production="output"/>
	</bind>
	
        <bind action="spectrum_counts" tool="spectrumCounts">
                <inputAsRequirement port="params" requirement="params"/>
                <inputAsRequirement port="msplitSearchResult" requirement="msplitSearchResult"/>
                <inputAsRequirement port="msgfplusSearchResult" requirement="msgfdbSearchResult"/>
                <inputAsRequirement port="modaSearchResult" requirement="modaSearchResult"/>
                <inputAsRequirement port="clusterinfosummarygroup_attributes" requirement="clusterInfo"/>
                <inputAsRequirement port="networkEdges" requirement="networkEdges"/>
                <inputAsRequirement port="networkEdgesDisp" requirement="networkEdgesDisp"/>
                <inputAsRequirement port="groupMapping" requirement="groupMapping"/>
                <inputAsRequirement port="allClustSpecInfoWithpath" requirement="allClustSpecInfoWithpath"/>
                <inputAsRequirement port="outComputeSpecFdrCombined" requirement="outComputeSpecFdrCombined"/>
                <inputAsRequirement port="outComputeVarCombined" requirement="outComputeVarCombined"/>
                <inputAsRequirement port="outComputeRegionsCombined" requirement="outComputeRegionsCombined"/>
                <inputAsRequirement port="outComputeMergedRegionsCombined" requirement="outComputeMergedRegionsCombined"/>
                <inputAsRequirement port="isobaric_tag_abundances_filename" requirement="isobaric_tag_abundances_filename"/>
                <inputAsRequirement port="cluster_info_filename" requirement="cluster_info_filename"/>
                <inputAsRequirement port="groupmapping_dirname" requirement="groupmapping_dirname"/>
		<productionToOutput port="outSpecFdr" production="outSpecFdr"/>
		<productionToOutput port="outRegions" production="outRegions"/>
		<productionToOutput port="outMergedRegions" production="outMergedRegions"/>
		<productionToOutput port="outSpecFdr_sepMixtures" production="outSpecFdr_sepMixtures"/>
        <productionToOutput port="outProteins" production="outProteins"/>
        </bind>

        <bind action="summary_report" tool="summaryReport">
                <inputAsRequirement port="params" requirement="params"/>
                <inputAsRequirement port="clusterInfoSummaryGroupAttr" requirement="clusterInfo"/>
                <inputAsRequirement port="spectrumCounts_specFdr" requirement="spectrumCounts_specFdr"/>
                <inputAsRequirement port="spectrumCounts_mergedRegions" requirement="spectrumCounts_mergedRegions"/>
                <inputAsRequirement port="networkEdgesDisp" requirement="networkEdgesDisp"/>
                <inputAsRequirement port="networkQcCurve" requirement="networkQcCurve"/>
                <inputAsRequirement port="networkQcFalse" requirement="networkQcFalse"/>
                <inputAsRequirement port="groupMapping" requirement="groupMapping"/>
                <inputAsRequirement port="networkEdges" requirement="networkEdges"/>
                <inputAsRequirement port="peptidePairCateg" requirement="peptidePairCateg"/>
                <inputAsRequirement port="inputSpectra" requirement="inputSpectra"/>
                <inputAsRequirement port="spectrumCounts_regions" requirement="spectrumCounts_regions"/>
                <inputAsRequirement port="spectra_cleanup_done" requirement="spectra_cleanup_done"/>
                <productionToOutput port="summary_report" production="output"/>
        </bind>
        
	<bind action="modify_result_files" tool="modifyResultFiles">
	        <inputAsRequirement port="groupMapping" requirement="groupMapping"/>
                <inputAsRequirement port="allClusters" requirement="allClusters"/>
                <inputAsRequirement port="rawSpectra" requirement="rawSpectra"/>
                <inputAsRequirement port="spectrumCounts" requirement="spectrumCounts"/>
                <inputAsRequirement port="clusterinfo" requirement="clusterinfo"/>
                <inputAsRequirement port="isobaric_tag_abundances" requirement="isobaric_tag_abundances"/>
                <productionToOutput port="all_clusters_output" production="allClustersOutput"/>
                <productionToOutput port="raw_spectra_output" production="rawSpectraOutput"/>
                <productionToOutput port="raw_spectra_id_only" production="rawSpectraIdOnly"/>
                <productionToOutput port="raw_spectra_id_only_per_group" production="rawSpectraIdOnly_perGroup"/>
        </bind>

        <bind action="convert_mods" tool="convertMods">
                <inputAsRequirement port="params" requirement="params"/>
                <inputAsRequirement port="msplitSearchResult" requirement="msplitSearchResult"/>
                <inputAsRequirement port="msgfplusSearchResult" requirement="msgfdbSearchResult"/>
                <inputAsRequirement port="modaSearchResult" requirement="modaSearchResult"/>
                <productionToOutput port="msplitOut" production="msplitOut"/>
                <productionToOutput port="msgfplusOut" production="msgfdbOut"/>
                <productionToOutput port="modaOut" production="modaOut"/>
        </bind>	

        <bind action="convert_mods_merged" tool="convertMods">
                <inputAsRequirement port="params" requirement="params"/>
                <inputAsRequirement port="msplitSearchResult" requirement="msplitSearchResult"/>
                <inputAsRequirement port="msgfplusSearchResult" requirement="msgfdbSearchResult"/>
                <inputAsRequirement port="modaSearchResult" requirement="modaSearchResult"/>
                <productionToOutput port="msplitOut" production="msplitOut"/>
                <productionToOutput port="msgfplusOut" production="msgfdbOut"/>
                <productionToOutput port="modaOut" production="modaOut"/>
        </bind>

        <bind action="peptide_explorer" tool="peptideExplorer">
                <inputAsRequirement port="spectrumCounts" requirement="spectrumCounts"/>
                <inputAsRequirement port="networkEdgesDispPairs" requirement="networkEdgesDispPairs"/>
                <inputAsRequirement port="clusterInfo" requirement="clusterInfo"/>
                <productionToOutput port="peptide_explorer" production="output"/>
        </bind>

	<bind action="create_pair_mod_counts" tool="createPairModCounts">
                <inputAsRequirement port="networkQcFalse" requirement="networkQcFalse"/>
                <inputAsRequirement port="spectrumCounts" requirement="spectrumCounts"/>
                <productionToOutput port="outQcFalseWithOffsets" production="outQcFalseWithOffsets"/>
                <productionToOutput port="outPairModTable" production="outPairModTable"/>
        </bind>

	<bind action="cat_spec_fdr_files" tool="catSpecFdrFiles">
                <inputAsRequirement port="specFdrMSPLIT" requirement="specFdrMSPLIT"/>
                <inputAsRequirement port="specFdrMSPLIT2" requirement="specFdrMSPLIT2"/>
                <inputAsRequirement port="specFdrMSGFPlus" requirement="specFdrMSGFDB"/>
                <inputAsRequirement port="specFdrMODA" requirement="specFdrMODA"/>
                <productionToOutput port="specFdrCombined" production="specFdrCombined"/>
        </bind>

	<bind action="cat_var_fdr_files" tool="catSpecFdrFiles">
                <inputAsRequirement port="specFdrMSPLIT" requirement="specFdrMSPLIT"/>
                <inputAsRequirement port="specFdrMSPLIT2" requirement="specFdrMSPLIT2"/>
                <inputAsRequirement port="specFdrMSGFPlus" requirement="specFdrMSGFDB"/>
                <inputAsRequirement port="specFdrMODA" requirement="specFdrMODA"/>
                <productionToOutput port="specFdrCombined" production="specFdrCombined"/>
        </bind>

	<bind action="msplit_apply_svm1_filter" tool="msplitApplySVM1Filter">
                <inputAsRequirement port="params" requirement="params"/>
                <inputAsRequirement port="finalResultMSPLIT_withDecoys" requirement="finalResultMSPLIT_withDecoys"/>
                <productionToOutput port="finalResultMSPLIT_withDecoys_SVM1Filtered" production="finalResultMSPLIT_withDecoys_SVM1Filtered"/>
        </bind>

	<bind action="filter_result_file_msplit" tool="filterResultFileMSPLIT">
                <inputAsRequirement port="mergedResult" requirement="mergedResult"/>
                <inputAsRequirement port="outputFormatResult" requirement="outputFormatResult"/>
                <inputAsRequirement port="outComputeSpecFdrMSPLIT" requirement="outComputeSpecFdrMSPLIT"/>
                <inputAsRequirement port="outComputeSpecFdrMSPLIT2" requirement="outComputeSpecFdrMSPLIT2"/>
                <productionToOutput port="out" production="out"/>
        </bind>

	<bind action="filter_result_file_msgfplus" tool="filterResultFileMSGFPlus">
                <inputAsRequirement port="mergedResult" requirement="mergedResult"/>
                <inputAsRequirement port="outputFormatResult" requirement="outputFormatResult"/>
                <inputAsRequirement port="outComputeSpecFdrMSGFPlus" requirement="outComputeSpecFdrMSGFPlus"/>
                <productionToOutput port="out" production="out"/>
        </bind>

	<bind action="filter_result_file_moda" tool="filterResultFileMODA">
                <inputAsRequirement port="mergedResult" requirement="mergedResult"/>
                <inputAsRequirement port="outputFormatResult" requirement="outputFormatResult"/>
                <inputAsRequirement port="outComputeSpecFdrMODA" requirement="outComputeSpecFdrMODA"/>
                <productionToOutput port="out" production="out"/>
        </bind>

        <bind action="reformat_merged" tool="reformatMerged">
                <inputAsRequirement port="mergedResultMODA" requirement="mergedResultMODA"/>
                <productionToOutput port="mergedResultMODAReformatted" production="mergedResultMODAReformatted"/>
        </bind>

        <bind action="reassign_proteins_msplit" tool="mapPeptidesToProteins">
                <inputAsRequirement port="db" requirement="db"/>
                <inputAsRequirement port="ptms" requirement="ptms"/>
                <productionToOutput port="out" production="out"/>
        </bind>

        <bind action="reassign_proteins_msgfplus" tool="mapPeptidesToProteins">
                <inputAsRequirement port="db" requirement="db"/>
                <inputAsRequirement port="ptms" requirement="ptms"/>
                <productionToOutput port="out" production="out"/>
        </bind>
        <bind action="reassign_proteins_msgfplus_merged" tool="mapPeptidesToProteins">
                <inputAsRequirement port="db" requirement="db"/>
                <inputAsRequirement port="ptms" requirement="ptms"/>
                <productionToOutput port="out" production="out"/>
        </bind>
        <bind action="reassign_proteins_moda" tool="mapPeptidesToProteins">
                <inputAsRequirement port="db" requirement="db"/>
                <inputAsRequirement port="ptms" requirement="ptms"/>
                <productionToOutput port="out" production="out"/>
        </bind>
        <bind action="reassign_proteins_moda_merged" tool="mapPeptidesToProteins">
                <inputAsRequirement port="db" requirement="db"/>
                <inputAsRequirement port="ptms" requirement="ptms"/>
                <productionToOutput port="out" production="out"/>
        </bind>


        <bind action="add_kl_columns_to_file_msplit" tool="addKlColumnsToFile">
                <inputAsRequirement port="in" requirement="in"/>
                <inputAsRequirement port="rawSpectra" requirement="rawSpectra"/>
                <inputAsRequirement port="KLTable" requirement="KLTable"/>
                <productionToOutput port="out" production="out"/>
        </bind>

        <bind action="add_kl_columns_to_file_msgf" tool="addKlColumnsToFile">
                <inputAsRequirement port="in" requirement="in"/>
                <inputAsRequirement port="rawSpectra" requirement="rawSpectra"/>
                <inputAsRequirement port="KLTable" requirement="KLTable"/>
                <productionToOutput port="out" production="out"/>
        </bind>

        <bind action="add_kl_columns_to_file_moda" tool="addKlColumnsToFile">
                <inputAsRequirement port="in" requirement="in"/>
                <inputAsRequirement port="rawSpectra" requirement="rawSpectra"/>
                <inputAsRequirement port="KLTable" requirement="KLTable"/>
                <productionToOutput port="out" production="out"/>
        </bind>

        <bind action="add_kl_columns_to_file_rawSpectra" tool="addKlColumnsToFile">
                <inputAsRequirement port="in" requirement="in"/>
                <inputAsRequirement port="rawSpectra" requirement="rawSpectra"/>
                <inputAsRequirement port="KLTable" requirement="KLTable"/>
                <productionToOutput port="out" production="out"/>
        </bind>


        <bind action="mergeSequences" tool="mergeFasta">
                <inputAsRequirement port="fasta" requirement="input"/>
                <productionToOutput port="out"   production="output"/>
        </bind>

        <bind action="mergeSequencesMODA" tool="mergeFasta">
                <inputAsRequirement port="fasta" requirement="input"/>
                <productionToOutput port="out"   production="output"/>
        </bind>
	
	<bind action="make_moda_input_db" tool="makeModaInputDB">
		<inputAsRequirement port="msplitFinalResult" requirement="msplitFinalResult"/>
		<inputAsRequirement port="msgfplusMergedResult" requirement="msgfdbMergedResult"/>
		<inputAsRequirement port="revConcatDB" requirement="revConcatDB"/>
		<inputAsRequirement port="msgfSpecFdrWithDecoys" requirement="msgfSpecFdrWithDecoys"/>
		<productionToOutput port="output" production="output"/>
	</bind>
	
        <bind action="extract_isobaric_tag_peaks" tool="extractIsobaricTagPeaks">
                <inputAsRequirement port="inputspectra" requirement="inputspectra"/>
                <inputAsRequirement port="inputspectra_ms3" requirement="inputspectra_ms3"/>
                <inputAsRequirement port="kltable" requirement="kltable"/>
                <inputAsRequirement port="params" requirement="params"/>
                <productionToOutput port="inputspectra_isobaric_tag_peaks_removed"   production="inputspectra_isobaric_tag_peaks_removed"/>
                <productionToOutput port="isobaric_tag_abundances"   production="isobaric_tag_abundances"/>
        </bind>

        <bind action="remove_redundant_rows_msgfplus" tool="removeRedundantRowsMSGFPlus">
                <inputAsRequirement port="mergedResult" requirement="mergedResult"/>
                <productionToOutput port="out"   production="out"/>
        </bind>
        <bind action="create_mztab_zip" tool="createMzTabZip">
                <inputAsRequirement port="in_dir"  requirement="in_dir"/>
                <productionToOutput port="out" production="out"/>
        </bind>
        <bind action="clean_up_spectra_dir" tool="cleanUpSpectraDir">
                <inputAsRequirement port="spectra"  requirement="spectra"/>
                <inputAsRequirement port="wait_for_node"  requirement="wait_for_node"/>
                <productionToOutput port="out_done" production="out_done"/>
        </bind>
	<!--*********Metabolomics-snets-**********-->	
       <bind action="searchlibraryparamgeneration_specnets" tool="LibrarySearchParamGeneration_specnets_a">
            <inputAsRequirement port="spectra"       requirement="spec"/>
            <inputAsRequirement port="flowParams" requirement="flowParams"/>
            <inputAsRequirement port="lib"                requirement="library"/>
            <productionToOutput port="paramsgen_specnets"     production="paramsgen"/>
        </bind>
        
        
        <bind action="searchlibrarysearch_specnets" tool="LibrarySearchParallel_specnets_a">
            <inputAsRequirement port="spectra"       requirement="spec"/>
            <inputAsRequirement port="paramsgen_specnets" requirement="flowParams"/>
            <inputAsRequirement port="lib"                requirement="library"/>
            <productionToOutput port="intermediateresults_specnets"     production="result"/>
        </bind>
        
        <bind action="searchlibrarymerge_specnets" tool="LibrarySearchMerge_specnets_a">
            <inputAsRequirement port="flowParams"       requirement="flowParams"/>
            <inputAsRequirement port="intermediateresults_specnets" requirement="intermediateresults"/>
            <productionToOutput port="result_specnets"     production="result"/>
        </bind>
        
        
        <bind action="get_dbannotations_specnets" tool="GetDBAnnotations_specnets_a">
                <inputAsRequirement port="result_specnets"             requirement="result"/>
                <productionToOutput port="result_specnets_DB"           production="DB_result"/>
        </bind>
        
        <bind action="input_file_validation_specnets" tool="InputFileValidator_specnets_a">
            <inputAsRequirement port="inputspectra"       requirement="inputspectra"/>
            <inputAsRequirement port="flowParams"       requirement="flowParams"/>
        </bind>
        
        
        <bind action="specnetsparamsgen" tool="SpecnetsParamGen_a">
            <inputAsRequirement port="flowParams"       requirement="flowParams"/>
            <inputAsRequirement port="spec" requirement="spec"/>
            <productionToOutput port="specnetsparam"     production="paramsgen"/>
        </bind>
        
        <bind action="metabolomicspecnets" tool="MetabolomicSpecnets_ClusteringOnly">
            <inputAsRequirement port="spec" requirement="spec"/>
            <inputAsRequirement port="specnetsparam"       requirement="specnetparams"/>
            <productionToOutput port="spectra"     production="spectra"/>
	    <!--<productionToOutput port="aligns"     production="aligns"/>-->
        </bind>

	<!-- tag -->
	<bind action="actionTagFilterPairs" tool="toolSpecnetsTagFilterPairs">
        	<inputAsRequirement port="specnetsparam"     requirement="specnetsparam"/>
        	<inputAsRequirement port="spectra"           requirement="spectra"/>
        	<productionToOutput port="p_tags_file"       production="inputTags"/>
        </bind>
 
        <bind action="molecularnetworking_prep_params_filterpairs_split" tool="MetabolomicPrepParallelFilterPairsSplit_a">
            <inputAsRequirement port="specnetsparam" requirement="specnetsparam"/>
            <inputAsRequirement port="spectra"       requirement="spectra"/>
            <productionToOutput port="molecularnetworks_parallel_filterpairs_params"     production="molecularnetworks_parallel_filterpairs_params"/>
        </bind>
        
        <bind action="molecularnetworking_params_filterpairs_split" tool="MetabolomicParallelFilterPairsSplit_a">
            <inputAsRequirement port="molecularnetworks_parallel_filterpairs_params" requirement="molecularnetworks_parallel_filterpairs_params"/>
            <inputAsRequirement port="spectra" requirement="spectra"/>
            <productionToOutput port="molecularnetworks_parallel_filterpairs_parallel_params"     production="molecularnetworks_parallel_filterpairs_parallel_params"/>
        </bind>
        
        <bind action="molecularnetworking_params_filterpairs_parallelstep" tool="MetabolomicParallelFilterPairsParallelStep_a">
            <inputAsRequirement port="molecularnetworks_parallel_filterpairs_parallel_params" requirement="molecularnetworks_parallel_filterpairs_parallel_params"/>
            <inputAsRequirement port="spectra" requirement="spectra"/>
	    <inputAsRequirement port="p_tags_file" requirement="inputTags"/>
            <productionToOutput port="molecularnetworks_parallel_filterpairs_results"     production="molecularnetworks_parallel_filterpairs_results"/>
        </bind>
        
        <bind action="molecularnetworking_params_filterpairs_merge" tool="MetabolomicParallelFilterPairsMerge_a">
            <inputAsRequirement port="molecularnetworks_parallel_filterpairs_params" requirement="molecularnetworks_parallel_filterpairs_params"/>
            <inputAsRequirement port="spectra" requirement="spectra"/>
            <inputAsRequirement port="molecularnetworks_parallel_filterpairs_results" requirement="molecularnetworks_parallel_filterpairs_results"/>
            <productionToOutput port="molecularnetworks_parallel_filterpairs_merged"     production="molecularnetworks_parallel_filterpairs_merged"/>
        </bind>
        
        
        
        
        <bind action="metabolomicclusterinfo" tool="MetabolomicClusterinfo_a">
            <inputAsRequirement port="spec" requirement="spec"/>
            <inputAsRequirement port="spectra"       requirement="spectra"/>
            <inputAsRequirement port="inputspectra_pklbin_filelist"       requirement="inputspectra_pklbin_filelist"/>
            <productionToOutput port="clusterinfo"     production="clusterinfo"/>
            <productionToOutput port="clusterinfosummary"     production="clusterinfosummary"/>
        </bind>
	
	
	<bind action="metabolomicgroupmappingconvert" tool="MetabolomicGroupConvert_a">
            <inputAsRequirement port="flowParams" requirement="flowParams"/>
            <inputAsRequirement port="groupmapping"       requirement="groupmapping"/>
            <productionToOutput port="groupmapping_converted"     production="groupmapping_converted"/>
        </bind>
	
	<bind action="metabolomicclusterinfogroup" tool="MetabolomicClusterinfoGroup_a">
            <inputAsRequirement port="spec" requirement="spec"/>
            <inputAsRequirement port="spectra"       requirement="spectra"/>
	    <inputAsRequirement port="groupmapping"       requirement="groupmapping"/>
            <inputAsRequirement port="inputspectra_pklbin_filelist"       requirement="inputspectra_pklbin_filelist"/>
            <productionToOutput port="clusterinfogroup"     production="clusterinfo"/>
            <productionToOutput port="clusterinfosummarygroup"     production="clusterinfosummary"/>
        </bind>
	
	<bind action="metabolomicclusterinfogroupaddattribute" tool="MetabolomicClusterInfoGroupAddAttribute_a">
	    <inputAsRequirement port="flowParams"        requirement="flowParams"/>
	    <inputAsRequirement port="clusterinfosummarygroup"  requirement="clusterinfosummarygroup"/>
	    <inputAsRequirement port="clusterinfogroup"  requirement="clusterinfogroup"/>
            <productionToOutput port="clusterinfosummarygroup_attributes"     production="clusterinfosummarygroup_attributes"/>
        </bind>
        
        <bind action="metabolomic_add_ID_to_summary" tool="MetabolomicClusterInfoGroupAddID_a">
            <inputAsRequirement port="flowParams"        requirement="flowParams"/>
            <inputAsRequirement port="clusterinfosummarygroup_attributes"  requirement="clusterinfosummarygroup_attributes"/>
            <inputAsRequirement port="result_specnets"  requirement="result_specnets"/>
            <productionToOutput port="clusterinfosummarygroup_attributes_withIDs"     production="clusterinfosummarygroup_attributes_withIDs"/>
        </bind>
        
        
        <bind action="metabolomic_create_all_cluster_info" tool="MetabolomicViewAllClusters_a">
            <inputAsRequirement port="flowParams"        requirement="flowParams"/>
            <inputAsRequirement port="clusterinfosummarygroup_attributes"  requirement="clusterinfosummarygroup_attributes"/>
            <inputAsRequirement port="clusterinfogroup"  requirement="clusterinfogroup"/>
            <productionToOutput port="allclustered_spectra_info"     production="allclustered_spectra_info"/>
        </bind>
        
	
	<!--<bind action="metabolomicpairsinfo" tool="MetabolomicPairsinfo_a">
            <inputAsRequirement port="aligns" requirement="aligns"/>
            <inputAsRequirement port="flowParams"       requirement="flowParams"/>
            <productionToOutput port="networkedges"     production="networkedges"/>
        </bind>-->
        
        <bind action="metabolomicpairsinfo" tool="MetabolomicPairsinfo_UsingParallelCosine_a">
            <inputAsRequirement port="molecularnetworks_parallel_filterpairs_merged" requirement="molecularnetworks_parallel_filterpairs_merged"/>
            <inputAsRequirement port="aligns" requirement="aligns"/>
            <inputAsRequirement port="flowParams"       requirement="flowParams"/>
            <productionToOutput port="networkedges"     production="networkedges"/>
        </bind>
        
        <bind action="metabolomic_create_network_view" tool="MetabolomicCreateNetworkView_a">
            <inputAsRequirement port="networkedges" requirement="networkedges"/>
            <productionToOutput port="networkedges_display"     production="networkedges_display"/>
            <productionToOutput port="networkedges_display_pairs"     production="networkedges_display_pairs"/>
        </bind>
        
        
        
        <bind action="metabolomicsmakeselfloop" tool="MetabolomicMakeSelfloop_a">
            <inputAsRequirement port="flowParams"       requirement="flowParams"/>
            <inputAsRequirement port="networkedges" requirement="networkedges"/>
            <inputAsRequirement port="clusterinfosummarygroup"       requirement="clusterinfosummarygroup"/>
            <productionToOutput port="networkedges_selfloop"     production="networkedges_selfloop"/>
        </bind>
        
        
        <bind action="metabolomic_add_original_filepath_clusterinfo" tool="MetabolomicWriteOriginalFileNameClusterInfo_a">
            <inputAsRequirement port="flowParams" requirement="flowParams"/>
            <inputAsRequirement port="allclustered_spectra_info"       requirement="allclustered_spectra_info"/>
            <productionToOutput port="allclustered_spectra_info_withpath"     production="allclustered_spectra_info_withpath"/>
        </bind>
        
        <bind action="metabolomic_add_componentindex_to_summary" tool="MetabolomicAddComponentIndexToSummary_a">
            <inputAsRequirement port="clusterinfosummarygroup_attributes_withIDs" requirement="clusterinfosummarygroup_attributes_withIDs"/>
            <inputAsRequirement port="networkedges"       requirement="networkedges"/>
            <productionToOutput port="clusterinfosummarygroup_attributes_withIDs_withcomponentID"     production="clusterinfosummarygroup_attributes_withIDs_withcomponentID"/>
            <productionToOutput port="networkcomponents"     production="networkcomponents"/>
        </bind>
        
        
        <bind action="metabolomic_add_arbitrary_attribute" tool="MetabolomicAddArbitraryAttribute_a">
            <inputAsRequirement port="attributemapping" requirement="attributemapping"/>
            <inputAsRequirement port="clusterinfosummarygroup_attributes_withIDs"       requirement="clusterinfosummarygroup_attributes_withIDs"/>
            <productionToOutput port="clusterinfosummarygroup_attributes_withIDs_arbitraryattribute"     production="clusterinfosummarygroup_attributes_withIDs_arbitraryattribute"/>
        </bind>

         <bind action="metabolomic_create_peptide_component" tool="MetabolomicCreatePeptideComponent">
            <inputAsRequirement port="clusterinfosummarygroup_attributes_withIDs" requirement="clusterinfosummarygroup_attributes_withIDs"/>
            <inputAsRequirement port="networkedges"       requirement="networkedges"/>
            <inputAsRequirement port="spectrum_counts"     requirement="spectrum_counts"/>
            <productionToOutput port="networkcomponents_withpeptide"     production="networkcomponents_withpeptide"/>
        </bind>

         <bind action="create_variant_networks" tool="createVariantNetworks">
            <inputAsRequirement port="networkedges_selfloop" requirement="networkedges_selfloop"/>
            <inputAsRequirement port="spectrumCounts_mergedRegions"       requirement="spectrumCounts_mergedRegions"/>
            <productionToOutput port="networkedges_selfloop_variant"     production="networkedges_selfloop_variant"/>
            <productionToOutput port="clusterinfosummarygroup_attributes_withIDs_withcomponentID_variant"     production="clusterinfosummarygroup_attributes_withIDs_withcomponentID_variant"/>
            <productionToOutput port="peptide_ids_variant"     production="peptide_ids_variant"/>
            <productionToOutput port="variant_networks"     production="variant_networks"/>
        </bind>
 
         <bind action="map_peptides_to_libraries" tool="mapPeptidesToLibraries">
            <inputAsRequirement port="parameters" requirement="parameters"/>
            <inputAsRequirement port="speclibs"       requirement="speclibs"/>
            <inputAsRequirement port="finalResultMSPLIT"       requirement="finalResultMSPLIT"/>
            <productionToOutput port="finalResultMSPLITWithLibs"     production="finalResultMSPLITWithLibs"/>
        </bind>

         <bind action="split_spec_fdr_with_vars_file" tool="splitSpecFdrWithVarsFile">
            <inputAsRequirement port="outComputeVarCombined" requirement="outComputeVarCombined"/>
            <productionToOutput port="outComputeVarMSPLIT"     production="outComputeVarMSPLIT"/>
            <productionToOutput port="outComputeVarMSPLIT2"     production="outComputeVarMSPLIT2"/>
            <productionToOutput port="outComputeVarMSGFPlus"     production="outComputeVarMSGFPlus"/>
            <productionToOutput port="outComputeVarMODA"     production="outComputeVarMODA"/>
        </bind>

         <bind action="reset_moda_charges" tool="resetChargesMGF">
            <inputAsRequirement port="inMGFs" requirement="inMGFs"/>
            <productionToOutput port="out"     production="out"/>
        </bind>

        <bind action="metabolomic_network_statistics" tool="MetabolomicNetworkStatistics_a">
            <inputAsRequirement port="flowParams" requirement="flowParams"/>
            <inputAsRequirement port="networkedges" requirement="networkedges"/>
            <inputAsRequirement port="clusterinfosummarygroup_attributes_withIDs"       requirement="clusterinfosummarygroup_attributes_withIDs"/>
            <productionToOutput port="network_statistics"     production="network_statistics"/>
        </bind>

        <bind action="filter_pairs_networks_level" tool="toolFilterPairs_in_NetworksLevel">
            <inputAsRequirement port="specnetsparam" requirement="specnetsparam"/>
            <inputAsRequirement port="spectra" requirement="spectra"/>
            <inputAsRequirement port="inputPairs" requirement="inputPairs"/>
            <productionToOutput port="outputPairs"     production="outputPairs"/>
            <productionToOutput port="outputPairsAsBin"     production="outputPairsAsBin"/>
        </bind>

	<!--**********MSPLIT***************-->
        <bind action="createDecoyLib" tool="createDecoyLibMsplit">
                <inputAsRequirement port="spectrallibrary"  requirement="speclib"/>
                <productionToOutput port="concatlibs" production="concatlib"/>
        </bind>


        <bind action="mergeLib" tool="mergeMGF">
                <inputAsRequirement port="concatlibs" requirement="input"/>
                <productionToOutput port="mergedLib"   production="output"/>
        </bind>


        <bind action="indexLib" tool="indexLib">
                <inputAsRequirement port="mergedLib" requirement="mergedLib"/>
                <productionToOutput port="indexedLib"   production="indexedLib"/>
        </bind>

        <bind action="msplit" tool="msplit_new_1">
               <!-- <inputAsRequirement port="params" requirement="flowParams"/>-->
                <inputAsRequirement port="spec" requirement="spectrum"/>
                <inputAsRequirement port="indexedLib" requirement="library"/>
                <productionToOutput port="msplitOut" production="result"/>
        </bind>

        <bind action="filter_msplit" tool="spectrumMatchClassify_1_msplit_new">
                <inputAsRequirement port="mergedResult" requirement="input"/>
                <productionToOutput port="filteredResult" production="output"/>
        </bind>

        <bind action="filter_msplit_outputDecoys" tool="spectrumMatchClassify_1_msplit_new_outputDecoys">
                <inputAsRequirement port="mergedResult" requirement="input"/>
                <productionToOutput port="filteredResult" production="output"/>
        </bind>

        <bind action="merge_msplit" tool="mergeWithHeader">
                <inputAsRequirement port="msplitOut"       requirement="input"/>
                <productionToOutput port="mergedResult" production="output"/>
        </bind>

         <!-- bsaap raven-->
          <bind action="bsaap_raven_compute_spec_fdr_msplit" tool="bsaapRavenComputeSpecFdrMSPLIT">
              <inputAsRequirement port="mergedResult"                     requirement="mergedResult"/>
              <productionToOutput port="outComputeSpecFdrMSPLIT"  production="outComputeSpecFdrMSPLIT"/>
          </bind>
          <bind action="bsaap_raven_compute_spec_fdr_msplit_2" tool="bsaapRavenComputeSpecFdrMSPLIT2">
              <inputAsRequirement port="mergedResult"                     requirement="mergedResult"/>
              <productionToOutput port="outComputeSpecFdrMSPLIT"  production="outComputeSpecFdrMSPLIT"/>
          </bind>
          <bind action="bsaap_raven_compute_spec_fdr_msgfplus" tool="bsaapRavenComputeSpecFdrMSGFPlus">
              <inputAsRequirement port="mergedResult"                     requirement="mergedResult"/>
              <productionToOutput port="outComputeSpecFdrMSGFPlus"  production="outComputeSpecFdrMSGFPlus"/>
          </bind>
          <bind action="bsaap_raven_compute_spec_fdr_moda" tool="bsaapRavenComputeSpecFdrMODA">
              <inputAsRequirement port="mergedResult"                     requirement="mergedResult"/>
              <productionToOutput port="outComputeSpecFdrMODA"  production="outComputeSpecFdrMODA"/>
          </bind>
          <bind action="bsaap_raven_compute_variants_combined" tool="bsaapRavenComputeVariantsCombined">
              <inputAsRequirement port="mergedResult"                     requirement="mergedResult"/>
              <inputAsRequirement port="sequence"          requirement="sequence"/>
              <productionToOutput port="outComputeVarCombined"  production="outComputeVarCombined"/>
          </bind>
          <bind action="bsaap_raven_compute_var_fdr_combined" tool="bsaapRavenComputeVarFdrCombined">
              <inputAsRequirement port="outComputeVarCombined"  requirement="outComputeVarCombined"/>
              <productionToOutput port="outComputeVarFdrCombined"       production="outComputeVarFdrCombined"/>
          </bind>
          <bind action="bsaap_raven_compute_var_fdr_msplit" tool="bsaapRavenComputeVarFdrPerAlgorithm">
              <inputAsRequirement port="outComputeVarCombined"  requirement="outComputeVarCombined"/>
              <productionToOutput port="outComputeVarFdrCombined"       production="outComputeVarFdrCombined"/>
          </bind>
          <bind action="bsaap_raven_compute_var_fdr_msplit2" tool="bsaapRavenComputeVarFdrPerAlgorithm">
              <inputAsRequirement port="outComputeVarCombined"  requirement="outComputeVarCombined"/>
              <productionToOutput port="outComputeVarFdrCombined"       production="outComputeVarFdrCombined"/>
          </bind>
          <bind action="bsaap_raven_compute_var_fdr_msgfplus" tool="bsaapRavenComputeVarFdrPerAlgorithm">
              <inputAsRequirement port="outComputeVarCombined"  requirement="outComputeVarCombined"/>
              <productionToOutput port="outComputeVarFdrCombined"       production="outComputeVarFdrCombined"/>
          </bind>
          <bind action="bsaap_raven_compute_var_fdr_moda" tool="bsaapRavenComputeVarFdrPerAlgorithm">
              <inputAsRequirement port="outComputeVarCombined"  requirement="outComputeVarCombined"/>
              <productionToOutput port="outComputeVarFdrCombined"       production="outComputeVarFdrCombined"/>
          </bind>
          <bind action="bsaap_raven_compute_regions_combined" tool="bsaapRavenComputeRegionsCombined">
              <inputAsRequirement port="outComputeVarFdrCombined"       requirement="outComputeVarFdrCombined"/>
              <inputAsRequirement port="sequence"          requirement="sequence"/>
              <productionToOutput port="outComputeRegionsCombined"  production="outComputeRegionsCombined"/>
          </bind>
          <bind action="bsaap_raven_compute_regions_combined_1" tool="bsaapRavenComputeRegionsCombined_1">
              <inputAsRequirement port="outComputeVarCombined"  requirement="outComputeVarCombined"/>
              <inputAsRequirement port="outComputeVarFdrCombined"       requirement="outComputeVarFdrCombined"/>
              <inputAsRequirement port="sequence"          requirement="sequence"/>
              <productionToOutput port="outComputeRegionsCombined"  production="outComputeRegionsCombined"/>
          </bind>
          <bind action="bsaap_raven_compute_merged_regions_combined" tool="bsaapRavenComputeMergedRegionsCombined">
              <inputAsRequirement port="outComputeVarCombined"  requirement="outComputeVarCombined"/>
              <inputAsRequirement port="outComputeVarFdrCombined"       requirement="outComputeVarFdrCombined"/>
              <inputAsRequirement port="sequence"          requirement="sequence"/>
              <productionToOutput port="outComputeMergedRegionsCombined"  production="outComputeMergedRegionsCombined"/>
          </bind>

	<!--*********MSGF_PLUS***********--> 
        <bind action="convert_spectra_msgfplus" tool="convert_spectra">
                <inputAsRequirement port="spec" requirement="spectrum"/>
                <productionToOutput port="ccms_converted_spectrum"   production="ccms_converted_spectrum"/>
        </bind>

        <bind action="reconcile_file_names_msgfplus" tool="reconcile_file_names">
                <inputAsRequirement port="spectrum" requirement="spectrum"/>
                <inputAsRequirement port="pre_reconconciled_tsv" requirement="pre_reconconciled_tsv"/>
                <productionToOutput port="tsvResult"   production="tsvResult"/>
        </bind>

        <bind action="change_msgfplus_header" tool="change_msgfplus_header">
                <inputAsRequirement port="tsv_result_msgfplus" requirement="tsv_result_msgfplus"/>
                <productionToOutput port="tsv_headerchanged"   production="tsv_headerchanged"/>
        </bind>

        <bind action="mergeSequences_msgfplus" tool="mergeFasta">
                <inputAsRequirement port="fasta" requirement="input"/>
                <productionToOutput port="out"   production="output"/>
        </bind>

        <bind action="buildSA_msgfplus" tool="MSGFPlus_BuildSA">
                <inputAsRequirement port="fasta" requirement="input"/>
                <productionToOutput port="out"   production="output"/>
        </bind>

        <bind action="msgfPlus4Cores" tool="MSGFPlus4Cores">
                <inputAsRequirement port="spec"   requirement="spectrum"/>
                <inputAsRequirement port="fasta"  requirement="sequence"/>
                <inputAsRequirement port="seq"    requirement="preparedSequence"/>
                <inputAsRequirement port="params" requirement="parameters"/>
                <productionToOutput port="out"    production="output"/>
        </bind>

        <bind action="msgfPlusConvert" tool="MSGFPlus_ConvertToTSV">
                <inputAsRequirement port="in"  requirement="input"/>
                <productionToOutput port="out" production="output"/>
        </bind>
        <bind action="merge_msgfplus" tool="mergeWithHeader">
                <inputAsRequirement port="result"       requirement="input"/>
                <productionToOutput port="mergedResult" production="output"/>
        </bind>

        <bind action="fdr_msgfplus" tool="MSGFPlus_ComputeFDR">
                <inputAsRequirement port="in"  requirement="input"/>
                <productionToOutput port="out" production="output"/>
        </bind>

        <bind action="convertTSVToMzTab" tool="ConvertTSVToMzTab">
                <inputAsRequirement port="input"  requirement="input"/>
                <inputAsRequirement port="params" requirement="params"/>
                <productionToOutput port="config" production="config"/>
                <productionToOutput port="mzTab"  production="mzTab"/>
        </bind>

        <bind action="convertTSVToMzTab_perGroup_p" tool="parallelize_10">
                <inputAsRequirement  port="spectrum_converted"          requirement="input_folder" />
                <productionToOutput  port="spectrum_converted_p"        production="output_lists" />
        </bind>

	<bind action="convertTSVToMzTab_perGroup" tool="ConvertTSVToMzTab_perGroup">
    		<inputAsRequirement port="input_tsv_list"  requirement="input_tsv_list"/>
    		<inputAsRequirement port="input_tsvs"  requirement="input_tsvs"/>
		<inputAsRequirement port="params" requirement="params"/>
    		<productionToOutput port="config" production="config"/>
    		<productionToOutput port="mzTab"  production="mzTab"/>
	</bind>

	<bind action="processMzTab" tool="PostProcessMzTabs">
    		<inputAsRequirement port="params"    requirement="params"/>
    		<inputAsRequirement port="input"     requirement="input"/>
    		<inputAsRequirement port="peak"      requirement="peak"/>
    		<productionToOutput port="validated" production="validated"/>
    		<productionToOutput port="cleaned"   production="cleaned"/>
    		<productionToOutput port="summary"   production="summary"/>
	</bind>
	<!--***********MODA***************-->
	<bind action="shuffleSequences_moda" tool="shuffleFasta">
		<inputAsRequirement port="in"  requirement="input"/>
		<productionToOutput port="out" production="output"/>
	</bind>
	
	<bind action="createConfig_moda" tool="run_createMODaConfig">
		<inputAsRequirement port="spec"   requirement="spectrum"/>
		<inputAsRequirement port="seq"    requirement="sequence"/>
		<inputAsRequirement port="params" requirement="params"/>
		<productionToOutput port="cfg"    production="config"/>
	</bind>
	
	<bind action="moda" tool="MODa_1">
		<inputAsRequirement port="config" requirement="config"/>
		<inputAsRequirement port="spec"   requirement="spectrum"/>
		<inputAsRequirement port="seq"    requirement="sequence"/>
		<productionToOutput port="result" production="result"/>
	</bind>
	
	<bind action="merge_moda" tool="mergeText">
		<inputAsRequirement port="in"  requirement="input"/>
		<productionToOutput port="out" production="output"/>
	</bind>
	
	<bind action="mergeConfig_moda" tool="selectFirst">
		<inputAsRequirement port="in"  requirement="input"/>
		<productionToOutput port="out" production="output"/>
	</bind>
	
	<bind action="fdr_moda" tool="filterMODa_1">
		<inputAsRequirement port="in"  requirement="input"/>
		<inputAsRequirement port="cfg" requirement="config"/>
		<productionToOutput port="out" production="result"/>
		<productionToOutput port="ptm" production="ptm"/>
	</bind>
        
        
        <!-- Precision Recall for Network -->
        
        <bind action="networkqc_generate_qc" tool="NetworkQC_Generate_QC_a">
                <inputAsRequirement port="spectrum_counts"  requirement="spectrum_counts"/>
                <inputAsRequirement port="aligns" requirement="aligns"/>
                <inputAsRequirement port="spectra"       requirement="spectra"/>
                <productionToOutput port="networkqc_falsepositive" production="networkqc_falsepositive"/>
                <productionToOutput port="networkqc_curve" production="networkqc_curve"/>
                <productionToOutput port="networkqc_otheroutput" production="networkqc_otheroutput"/>
                <productionToOutput port="networkqc_workingdir" production="networkqc_workingdir"/>
        </bind>	

</binding>


